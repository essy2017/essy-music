@import 'util';

#piano-wrap {
  background-color:#000;
  border-bottom-left-radius:0.6rem;
  border-bottom-right-radius:0.6rem;
  margin:2rem auto 0 auto;
}

#controls {
  background-color:#222;
  background:linear-gradient(#000, #000 2%, #222 98%, #333);
  border:1px solid #000;
  margin:auto;
  padding:1rem;
  position:relative;
}

#ctrl-osc {
  width:40%;
}

.mt-2 {
  margin-top:2rem;
}

.ctrl-row-label {
  color:#ccc;
  font-size:0.8rem;
  margin-bottom:0.5rem;
  text-align:center;
  text-transform:uppercase;
}

.ctrl-row-label-sm {
  color:#ccc;
  font-size:0.6rem;
  text-align:center;
  text-transform:uppercase;
}

.ctrl-row {
  display:flex;
  justify-content:space-between;

  .pot {
    margin:0 15px;
  }
}

.pot {
  display:inline-block;
  position:relative;
  .label {
    color:#ccc;
    font-size:0.6rem;
    margin-bottom:1rem;
    text-align:center;
    text-transform:uppercase;
  }
  .knob-area {
    position:relative;
  }
  .knob-outer {
    background-color:#444;
    border-radius:50%;
    @include util-box-shadow2(0 -0.2rem 0.1rem 0.05rem rgba(255,255,255,0.1) inset, 0 0.2rem 0.1rem 0.05rem rgba(0,0,0,0.2) inset);
    position:relative;
  }

  .marker {
    //bottom:15%;

    left:50%;
    position:absolute;
    @include util-transform(translateX(-50%));

    background-color:#fff;
    bottom:0;
    height:20%;
    width:2px;

    &::before {
      /*background-color:#fff;
      content:'';
      height:100%;
      position:absolute;
      width:3px;*/
      /*border-top:5px solid #a8d8f8;
      border-left:3px solid transparent;
      border-right:3px solid transparent;*/

      /*
      background-color:#a8d8f8;
      border-radius:50%;
      box-shadow:0 0 0.4rem 0 darken(#a8d8f8, 10%);
      content:'';
      height:3px;
      left:-1.5px;
      position:absolute;
      width:3px;*/
    }
  }
  .ticks {
    position:absolute;
  }
  .tick {
    max-width:3px;
    position:absolute;
    text-align:center;
    &::before {
      background-color:#555;
      bottom:0;
      content:'';
      height:20%;
      left:0;
      margin:auto;
      position:absolute;
      width:inherit;
    }
    /*&.active::before {
      background-color:#a8d8f8;
      box-shadow:0 0 1px 0.05rem darken(#a8d8f8, 10%);
    }*/
    .tick-label {
      bottom:-0.9rem;
      color:#bbb;
      font-family:sans-serif;
      font-size:0.6rem;
      left:50%;
      position:absolute;
      text-transform:uppercase;
      transform:translateX(-50%);
    }
  }
}

.selector {
  border:1px solid #444;
  cursor:pointer;
  display:inline-block;
  font-size:0.8rem;
  margin-right:2rem;
  position:relative;
  vertical-align:top;
  width:56px;
  .item {
    color:#aaa;
    padding:0.2rem;
    transition:all 0.15s ease-in;
    &:not(:first-child) {
      border-top:1px solid #444;
    }
    &:hover {
      background-color:rgba(255,255,255,0.1);
      color:#fff;
    }
    &.active {
      color:#a8d8f8;
    }
  }
}

.knob-control {
  display:inline-block;
  margin:0 1rem;
  position:relative;
  text-align:center;
  user-select:none;
  vertical-align:top;
  .label {
    color:#ccc;
    font-size:0.7rem;
  }
  .control {
    background-color:#444;
    border-radius:50%;
    box-shadow:0 -0.2rem 0.1rem 0.05rem rgba(255,255,255,0.1) inset,
      0 0.2rem 0.1rem 0.05rem rgba(0,0,0,0.1) inset;
    margin-top:20%;
  }
  .knob {
    border-radius:50%;
    position:absolute;
    &::after {
      background-color:#a8d8f8;
      border-radius:50%;
      bottom:10%;
      box-shadow:0 0 0.4rem 0 darken(#a8d8f8, 10%);
      content:'';
      height:4px;
      left:50%;
      position:absolute;
      transform:translateX(-50%);
      width:4px;
    }
  }
  .ticks {
    position:absolute;
  }
  .tick {
    height:100%;
    left:0;
    position:absolute;
    top:0;
    width:100%;
    &::after {
      content:'';
      background-color:rgba(255,255,255,0.2);
      height:7%;
      left:50%;
      position:absolute;
      top:-12%;
      width:1px;
      transition:all 50ms ease-in;
    }
    &.active::after {
      background-color:#a8d8f8;
      box-shadow:0 0 1px 0.05rem darken(#a8d8f8, 10%);
    }
  }
}

.slider {
  border:1px solid #000;
  position:absolute;
  user-select:none;
  .control {
    width:100%;
  }
  .groove {
    border:1px solid #000;
    border-radius:0.2rem;
    height:100%;
    margin:auto;
    width:20%;
  }
  .knob {
    background-color:#44b;
    border:1px solid #b44;
    left:50%;
    position:absolute;
    width:40%;
    transform:translateX(-50%);
  }
  .label {
    bottom:0;
    color:#484848;
    left:50%;
    font-size:0.7rem;
    position:absolute;
    transform:translateX(-50%);
  }
}

#piano {
  margin:auto;
  overflow-x:hidden;
  position:relative;
}

.key {
  background-color:#fff;
  border:1px solid #000;
  border-bottom-left-radius:0.5rem;
  border-bottom-right-radius:0.5rem;
  position:absolute;
  user-select:none;

  .label {
    bottom:5px;
    color:#bbb;
    font-weight:600;
    left:50%;
    position:absolute;
    transform:translateX(-50%);
  }

  &:not(.sharp).active {
    background-color:#f2f2f2;
    box-shadow:inset 0 0 15px rgba(0,0,0,0.5);
    margin-top:1px;
  }

  &.sharp {
    background-color:#000;
    box-shadow:0 2px 4px rgba(0,0,0,0.45);
    z-index:2;
    .sharp-top {
      background:linear-gradient(#000, #444);
      border-bottom-left-radius:0.5rem;
      border-bottom-right-radius:0.5rem;
      height:90%;
      margin:auto;
      width:90%;
    }
    &.active .sharp-top {
      height:95%;
    }
  }
}
